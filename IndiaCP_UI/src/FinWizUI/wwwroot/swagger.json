{
    "swagger": "2.0",
    "info": {
        "title": "IndiaCP API",
        "description": "This API will drive the UI",
        "version": "1.0.0"
    },
    "host": "finwizui.azurewebsites.net",
    "schemes": [
        "http"
    ],
    "basePath": "/api",
    "produces": [
        "application/json"
    ],
    "paths": {
        "/{entityId}/cpprograms": {
            "get": {
                "summary": "All CPPrograms for the current Issuer",
                "description": "Returns all the CP Programs for the current issuer\n",
                "tags": [
                    "Issuer"
                ],
                "responses": {
                    "200": {
                        "description": "An array of CP Programs",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/CPProgram"
                            }
                        }
                    },
                    "default": {
                        "description": "Unexpected error",
                        "schema": {
                            "$ref": "#/definitions/Error"
                        }
                    }
                }
            }
        },
        "/{entityId}/cpprogram/{cpProgramId}": {
            "get": {
                "summary": "Get CP Program details by Id",
                "description": "This returns a single CP Program identified by an Id provided by the call\n",
                "parameters": [
                    {
                        "name": "id",
                        "in": "query",
                        "description": "UniqueId of the CP Program",
                        "required": true,
                        "type": "string",
                        "format": "uuid"
                    }
                ],
                "tags": [
                    "CPProgram"
                ],
                "responses": {
                    "200": {
                        "description": "Returns a CP",
                        "schema": {
                            "$ref": "#/definitions/CPProgram"
                        }
                    },
                    "default": {
                        "description": "Unexpected error",
                        "schema": {
                            "$ref": "#/definitions/Error"
                        }
                    }
                }
            }
        },
        "/estimates/time": {
            "get": {
                "summary": "Time Estimates",
                "description": "The Time Estimates endpoint returns ETAs for all products offered at a given location, with the responses expressed as integers in seconds. We recommend that this endpoint be called every minute to provide the most accurate, up-to-date ETAs.",
                "parameters": [
                    {
                        "name": "start_latitude",
                        "in": "query",
                        "description": "Latitude component of start location.",
                        "required": true,
                        "type": "number",
                        "format": "double"
                    },
                    {
                        "name": "start_longitude",
                        "in": "query",
                        "description": "Longitude component of start location.",
                        "required": true,
                        "type": "number",
                        "format": "double"
                    },
                    {
                        "name": "customer_uuid",
                        "in": "query",
                        "type": "string",
                        "format": "uuid",
                        "description": "Unique customer identifier to be used for experience customization."
                    },
                    {
                        "name": "product_id",
                        "in": "query",
                        "type": "string",
                        "description": "Unique identifier representing a specific product for a given latitude & longitude."
                    }
                ],
                "tags": [
                    "Estimates"
                ],
                "responses": {
                    "200": {
                        "description": "An array of products",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/CPProgram"
                            }
                        }
                    },
                    "default": {
                        "description": "Unexpected error",
                        "schema": {
                            "$ref": "#/definitions/Error"
                        }
                    }
                }
            }
        },
        "/me": {
            "get": {
                "summary": "User Profile",
                "description": "The User Profile endpoint returns information about the Uber user that has authorized with the application.",
                "tags": [
                    "User"
                ],
                "responses": {
                    "200": {
                        "description": "Profile information for a user",
                        "schema": {
                            "$ref": "#/definitions/Profile"
                        }
                    },
                    "default": {
                        "description": "Unexpected error",
                        "schema": {
                            "$ref": "#/definitions/Error"
                        }
                    }
                }
            }
        },
        "/history": {
            "get": {
                "summary": "User Activity",
                "description": "The User Activity endpoint returns data about a user's lifetime activity with Uber. The response will include pickup locations and times, dropoff locations and times, the distance of past requests, and information about which products were requested.<br><br>The history array in the response will have a maximum length based on the limit parameter. The response value count may exceed limit, therefore subsequent API requests may be necessary.",
                "parameters": [
                    {
                        "name": "offset",
                        "in": "query",
                        "type": "integer",
                        "format": "int32",
                        "description": "Offset the list of returned results by this amount. Default is zero."
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "type": "integer",
                        "format": "int32",
                        "description": "Number of items to retrieve. Default is 5, maximum is 100."
                    }
                ],
                "tags": [
                    "User"
                ],
                "responses": {
                    "200": {
                        "description": "History information for the given user",
                        "schema": {
                            "$ref": "#/definitions/Activities"
                        }
                    },
                    "default": {
                        "description": "Unexpected error",
                        "schema": {
                            "$ref": "#/definitions/Error"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "CPProgram": {
            "type": "object",
            "properties": {
                "program_id": {
                    "type": "string",
                    "description": "Unique identifier representing a specific CP Program raised by an Issuer"
                },
                "name": {
                    "type": "string",
                    "description": "Name of the CP Program"
                },
                "type": {
                    "type": "string",
                    "description": "Type of the CP Program"
                },
                "purpose": {
                    "type": "string",
                    "description": "Purpose of the CP Program"
                },
                "issuer_id": {
                    "type": "string",
                    "description": "Unique identifier of the Issuer. This will also uniquely map to the DL Node of the Issuer"
                },
                "issuer_name": {
                    "type": "string",
                    "description": "Display name of the Issuer"
                },
                "issue_commencement_date": {
                    "type": "date",
                    "description": "Date when the CP Program was initiated. India regulations mandate that a program should be fully allocated within 2 weeks of commencement."
                },
                "program_size": {
                    "type": "integer",
                    "description": "Total borrowing amount under this CP Program"
                },
                "program_currency": {
                    "type": "string",
                    "description": "Currency of the issue of CP notes"
                },
                "maturity_days": {
                    "type": "integer",
                    "description": "No of days to maturity from the value date"
                },
                "ipa_id": {
                    "type": "string",
                    "description": "Unique identifier of the IPA. This will also uniquely map to the DL Node of the IPA"
                },
                "ipa_name": {
                    "type": "string",
                    "description": "Display name of the IPA"
                },
                "depository_id": {
                    "type": "string",
                    "description": "Unique identifier of the Depository (NSDL). This will also uniquely map to the DL Node of the Depository"
                },
                "depository_name": {
                    "type": "string",
                    "description": "Display name of the Depository"
                },
                "isin_generation_request_doc_id": {
                    "type": "string",
                    "description": "Unique identifier of the documents sent to the depository to generate ISIN"
                },
                "ipa_verification_request_doc_id": {
                    "type": "string",
                    "description": "Unique identifier of the documents sent to the IPA to certify the CP Program"
                },
                "ipa_certificate_doc_id": {
                    "type": "string",
                    "description": "Unique identifier of the IPA certificate issued by the IPA on verification of the CP Program and supporting Issuer documents"
                },
                "corporate_action_form_doc_id": {
                    "type": "string",
                    "description": "Unique identifier of the Corporate Action Form generated by the Issuer to allot CP"
                },
                "allotment_letter_doc_id": {
                    "type": "string",
                    "description": "Unique identifier of the Allotment Letter generated by IPA for CP transfer to Investor DP account"
                }
            }
        },
        "CPIssue": {
            "type": "object",
            "properties": {
                "cp_program_id": {
                    "type": "string",
                    "description": "Unique identifier representing a specific CP Program raised by an Issuer. This CP Issue is allotted under this umbrella program"
                },
                "cp_trade_id": {
                    "type": "string",
                    "description": "Unique identifier representing a specific CP Issue under the umbrella CP Program"
                },
                "book_id": {
                    "type": "string",
                    "description": "Internal Book Id that this trade is booked under"
                },
                "isin": {
                    "type": "string",
                    "description": "Unique CP Security Identifier No. In India this is issued by NSDL for Commercial Paper type of securities."
                },
                "trader_id": {
                    "type": "string",
                    "description": "Unique identifier of the trader booking this trade"
                },
                "issuer_id": {
                    "type": "string",
                    "description": "Unique identifier of the Issuer"
                },
                "issuer_name": {
                    "type": "string",
                    "description": "Display name of the Issuer"
                },
                "investor_id": {
                    "type": "string",
                    "description": "Unique identifier of the Investor. This also uniquely identifies the Investor DL Node"
                },
                "investor_name": {
                    "type": "string",
                    "description": "Display name of the Investor"
                },
                "ipa_id": {
                    "type": "string",
                    "description": "Unique identifier of the IPA"
                },
                "ipa_name": {
                    "type": "string",
                    "description": "Display name of the IPA"
                },
                "depository_id": {
                    "type": "string",
                    "description": "Unique identifier of the Depository (NSDL)"
                },
                "depository_name": {
                    "type": "string",
                    "description": "Display name of the Depository"
                },
                "trade_date": {
                    "type": "date",
                    "description": "Date on which the trade was captured"
                },
                "value_date": {
                    "type": "date",
                    "description": "Date on which the trade was settled and the Cash and CP securities were swapped between the Issuer and the Investor"
                },
                "maturity_date": {
                    "type": "date",
                    "description": "Date on which the CP will be matured and redeemed"
                },
                "currency": {
                    "type": "string",
                    "description": "Currency of the issued CP Notes"
                },
                "notional_amount": {
                    "type": "date",
                    "description": "This is the amount that will be paid by the Issuer to the Investor on redemption"
                },
                "yield": {
                    "type": "float",
                    "description": "Rate at which the yield is calculated"
                },
                "issuer_settlement_details": {
                    "$ref": "#/definitions/SettlementDetails"
                },
                "investor_settlement_details": {
                    "$ref": "#/definitions/SettlementDetails"
                },
                "deal_confirmation_doc_id": {
                    "type": "string",
                    "description": "Unique identifier of the deal confirmation document signed by both the Issuer and the Investor"
                }
            }
        },
        "SettlementDetails": {
            "type": "object",
            "properties": {
                "paymentAccountDetails": {
                    "$ref": "#/definitions/PaymentAccountDetails"
                },
                "depositoryAccountDetails": {
                    "$ref": "#/definitions/DepositoryAccountDetails"
                }
            }
        },
        "PaymentAccountDetails": {
            "type": "object",
            "properties": {
                "creditor_name": {
                    "type": "string",
                    "description": "Name in which the payment has to be made. For e.g. Barclays Investments & Loans (India) Ltd CP"
                },
                "bank_account_no": {
                    "type": "string",
                    "description": "Bank account no. at the IPA Bank"
                },
                "bank_account_type": {
                    "type": "string",
                    "description": "Bank account type. For e.g. current account"
                },
                "bank_name": {
                    "type": "string",
                    "description": "Name of the IPA Bank"
                },
                "rtgs_ifsc_code": {
                    "type": "string",
                    "description": "RTGS IFSC code of the IPA Bank to receive payments"
                }
            }
        },
        "DepositoryAccountDetails": {
            "type": "object",
            "properties": {
                "dp_id": {
                    "type": "string",
                    "description": "Unique identifier of the DP Account at the Depository"
                },
                "dp_name": {
                    "type": "string",
                    "description": "Name under which the DP Account is registered. For e.g. Barclays Securities India Pvt Ltd"
                },
                "client_id": {
                    "type": "string",
                    "description": "Unique identifier of the Client at the Depository"
                }
            }
        },
        "Error": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "integer",
                    "format": "int32"
                },
                "message": {
                    "type": "string"
                },
                "fields": {
                    "type": "string"
                }
            }
        }
    }
}